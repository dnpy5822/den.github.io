{"version":3,"names":["TrendingNftListItem","_b","item","idx","h","class","style","padding","justifySelf","flexShrink","fontSize","src","imageUrl","alt","name","marginRight","maxWidth","border","borderRadius","aspectRatio","_a","display","justifyContent","alignItems","paymentToken","width","formatNumber","floorPrice","nullPlaceholder","oneDayVolume","indexCss","IconTrendingNftListWidget","exports","class_1","prototype","getWidth","this","element","getBoundingClientRect","handleResize","connectedCallback","isLoading","componentWillLoad","services","fetchTrendingNfts","nftTrending","sent","console","error","error_1","componentDidLoad","render","collections","collectionList","slice","fetchTime","R.prop","Host","WidgetHeader","title","length","color","textAlign","map","Footer","source","updateTime"],"sources":["src/components/icon-trending-nft-list-widget/TrendingNftListItem/index.tsx","src/components/icon-trending-nft-list-widget/index.scss?tag=icon-trending-nft-list-widget&encapsulation=shadow","src/components/icon-trending-nft-list-widget/index.tsx"],"sourcesContent":["import { FunctionalComponent, h } from '@stencil/core';\nimport { NFTCollection } from 'src/types/Crypto.type';\nimport { formatNumber } from 'src/utils/number';\n\ntype Props = {\n  item: NFTCollection;\n  idx: number;\n};\n\nexport const TrendingNftListItem: FunctionalComponent<Props> = ({\n  item,\n  idx,\n}) => {\n  return (\n    <div class=\"table-row\" style={{ padding: '10px 0' }}>\n      <div class=\"table-cell\" style={{ justifySelf: 'center' }}>\n        {idx + 1}\n      </div>\n      <div class=\"table-cell\" style={{ flexShrink: '0', fontSize: '1rem' }}>\n        <img\n          src={item.imageUrl}\n          alt={item.name}\n          aria-label={item.name}\n          style={{\n            marginRight: '8px',\n            maxWidth: '56px',\n            border: '1px solid #0000001F',\n            borderRadius: '100%',\n            aspectRatio: '1 / 1',\n          }}\n        />\n        <span>{item.name ?? ''}</span>\n      </div>\n      <div\n        class=\"table-cell\"\n        style={{\n          flexShrink: '0',\n          fontSize: '1rem',\n          display: 'flex',\n          justifyContent: 'flex-end',\n          alignItems: 'center',\n        }}\n      >\n        <span\n          style={{\n            display: 'inline-flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n          }}\n        >\n          <img\n            src={item.paymentToken.imageUrl}\n            alt={item.paymentToken.name}\n            aria-label={item.paymentToken.name}\n            width={10}\n            style={{\n              marginRight: '4px',\n              maxWidth: '56px',\n              borderRadius: '100%',\n            }}\n          />\n          <span style={{ fontSize: '0.875rem' }}>\n            {formatNumber(item.floorPrice, {\n              nullPlaceholder: '--',\n            })}\n          </span>\n        </span>\n      </div>\n      <div\n        class=\"table-cell\"\n        style={{\n          flexShrink: '0',\n          fontSize: '1rem',\n          display: 'flex',\n          justifyContent: 'flex-end',\n          alignItems: 'center',\n        }}\n      >\n        <span\n          style={{\n            display: 'inline-flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n          }}\n        >\n          <img\n            src={item.paymentToken.imageUrl}\n            alt={item.paymentToken.name}\n            aria-label={item.paymentToken.name}\n            width={10}\n            style={{\n              marginRight: '4px',\n              maxWidth: '56px',\n              borderRadius: '100%',\n            }}\n          />\n          <span style={{ fontSize: '0.875rem' }}>\n            {formatNumber(item.oneDayVolume, {\n              nullPlaceholder: '--',\n            })}\n          </span>\n        </span>\n      </div>\n    </div>\n  );\n};\n","@import 'src/global/variables';\n@import 'src/global/mixins';\n\n/* css reset start */\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n  font-size: 16px;\n  font-family: \"PingFang HK\", PingFang-HK, PingFangHK, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Ubuntu, \"Helvetica Neue\", sans-serif;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n* {\n  font-family: \"PingFang HK\", PingFang-HK, PingFangHK, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Ubuntu, \"Helvetica Neue\", sans-serif !important;\n}\n/* css reset end */\n\n@mixin grid-column {\n  display: grid;\n  grid-template-columns: 34px minmax(200px,auto) 100px 100px;\n}\n\n:host {\n  display: block;\n  width: 100%;\n  container: container / inline-size;\n}\n\n.container {\n  min-width: 310px;\n  font-size: 16px;\n  margin-bottom: 16px;\n  background-color: white;\n  padding: 24px 0;\n  width: 100%;\n}\n\n.loading {\n  @include flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  font-size: 24px;\n}\n\n.scroll-wrapper {\n  overflow-x: scroll;\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n}\n\n.scroll-wrapper::-webkit-scrollbar {\n  display: none;\n}\n\n.table {\n  @include flex;\n  flex-direction: column;\n  margin: 0 12px 16px;\n  min-width: min-content;\n  max-width: 100%;\n  padding-right: 8px;\n}\n\n.table-header-wrapper {\n  display: grid;\n  grid-template-columns: auto;\n  grid-column-gap: 40px;\n  margin-bottom: 8px;\n  padding: 0 16px;\n  font-size: 0.875rem;\n  line-height: 1.125rem;\n}\n\n.table-header {\n  @include grid-column;\n}\n\n.table-head {\n  font-size: 0.75rem;\n  color: #000000C7;\n}\n\n.table-body {\n  border-radius: $border-radius;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.15);\n  color: #000000C7;\n  display: flex;\n  flex-direction: column;\n\n  min-width: min-content;\n  max-width: 100%;\n  padding: 0 16px;\n\n  -webkit-column-count: 2;  /* Chrome, Safari, Opera */\n  -moz-column-count: 2;     /* Firefox */\n  column-count: 2;\n\n  -webkit-column-gap: 40px;  /* Chrome, Safari, Opera */\n  -moz-column-gap: 40px;     /* Firefox */\n  column-gap: 40px;\n\n  /* workaround to hide the border of the last child in each column */\n  /* https://stackoverflow.com/a/23083025 */\n  position:relative;\n  &:after {\n    content:'';\n    width:100%;\n    height:1px;\n    position:absolute;\n    background-color:white;\n    bottom:0;\n    left:8px;\n    right:8px;\n  }\n}\n\n.table-row {\n  @include grid-column;\n  font-size: 0.875rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n  &:last-child {\n    border-bottom: none;\n  }  \n}\n\n.table-cell {\n  font-weight: 600;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: start;\n  justify-content: start;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.14);\n}\n\n.table-cell:first-child {\n  border-bottom-width: 0px;\n}\n\n@container container (min-width: 1024px) {\n  .table {\n    padding-right: 0;\n  }\n  \n  .table-header-wrapper {\n    grid-template-columns: auto auto;\n  }\n\n  .table-body {\n    display: block;\n  }\n}\n","import { Component, Element, Host, Listen, State, h } from '@stencil/core';\nimport { WidgetHeader } from 'src/components/WidgetHeader';\nimport services from 'src/services';\nimport { NftTrending } from 'src/types/Crypto.type';\nimport { Footer } from '../WidgetFooter';\nimport { TrendingNftListItem } from './TrendingNftListItem';\nimport * as R from 'ramda';\n\n@Component({\n  tag: 'icon-trending-nft-list-widget',\n  styleUrl: 'index.scss',\n  shadow: true,\n})\nexport class IconTrendingNftListWidget {\n  @State() width: number = 0;\n  @State() isLoading: boolean = false;\n  @State() error: any = null;\n  @State() nftTrending: NftTrending | null = null;\n\n  @Element() element!: HTMLElement;\n\n  getWidth(): number {\n    return this.element.getBoundingClientRect().width;\n  }\n\n  @Listen('resize', { target: 'window' })\n  handleResize() {\n    this.width = this.getWidth();\n  }\n\n  connectedCallback() {\n    this.isLoading = true;\n  }\n\n  async componentWillLoad() {\n    try {\n      const nftTrending = (await services.fetchTrendingNfts()) as NftTrending;\n      this.nftTrending = nftTrending;\n    } catch (error) {\n      console.error(error);\n      this.error = error;\n    }\n    this.isLoading = false;\n  }\n\n  componentDidLoad() {\n    this.width = this.getWidth();\n  }\n\n  render() {\n    const { collections = [] } = this.nftTrending ?? {};\n    const collectionList = collections.slice(0, 10);\n\n    const fetchTime: string = R.prop('lastFetchedTime', this.nftTrending);\n    return (\n      <Host>\n        <div class=\"container\">\n          <WidgetHeader title=\"每日熱門NFT\" />\n          {this.isLoading && <div class=\"loading\">Loading...</div>}\n          {!this.isLoading && this.error && <div class=\"error\">Error</div>}\n          {!this.isLoading && collectionList.length === 0 && (\n            <div class=\"empty\">No data</div>\n          )}\n          {!this.isLoading && collectionList.length > 0 && (\n            <div class=\"scroll-wrapper\" style={{}}>\n              <div class=\"table\">\n                <div\n                  class=\"table-header-wrapper\"\n                  color=\"rgba(255, 255, 255, 0.6)\"\n                >\n                  <div class=\"table-header\">\n                    <div class=\"table-head\" style={{ textAlign: 'center' }}>\n                      #\n                    </div>\n                    <div class=\"table-head\">名稱</div>\n                    <div\n                      class=\"table-head\"\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'flex-end',\n                        alignItems: 'center',\n                      }}\n                    >\n                      底價\n                    </div>\n                    <div\n                      class=\"table-head\"\n                      style={{\n                        display: 'flex',\n                        justifyContent: 'flex-end',\n                        alignItems: 'center',\n                      }}\n                    >\n                      交易量\n                    </div>\n                  </div>\n                  {this.width >= 1024 && (\n                    <div class=\"table-header\">\n                      <div class=\"table-head\" style={{ textAlign: 'center' }}>\n                        #\n                      </div>\n                      <div class=\"table-head\">名稱</div>\n                      <div\n                        class=\"table-head\"\n                        style={{\n                          display: 'flex',\n                          justifyContent: 'flex-end',\n                          alignItems: 'center',\n                        }}\n                      >\n                        底價\n                      </div>\n                      <div\n                        class=\"table-head\"\n                        style={{\n                          display: 'flex',\n                          justifyContent: 'flex-end',\n                          alignItems: 'center',\n                        }}\n                      >\n                        交易量\n                      </div>\n                    </div>\n                  )}\n                </div>\n                <div class=\"table-body\">\n                  {collectionList.map((item, idx) => (\n                    <TrendingNftListItem item={item} idx={idx} />\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n          <Footer source={'OpenSea'} updateTime={fetchTime} />\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}