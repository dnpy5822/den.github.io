{"version":3,"names":["TickerNumber","_b","val","_c","diff","_d","showArrow","_e","isPercentage","_f","R.gt","R.lt","color","arrow","h","style","display","flexWrap","paddingRight","TrendingCryptoListItem","item","idx","class","padding","justifySelf","flexShrink","fontSize","src","logo","thumb","alt","name","en","height","width","marginRight","symbol","flexDirection","alignItems","formatCurrency","price","usd","currencyConfig","precision","nullPlaceholder","hkd","Math","abs","pricePercentChange24h","pricePercentChange7d","marketCap","textAlign","volume24h","indexCss","IconTrendingCryptoListWidget","exports","class_1","prototype","connectedCallback","this","isLoading","componentWillLoad","services","fetchTrendingCryptos","cryptoTrending","sent","console","error","error_1","render","_a","cryptos","cryptoList","slice","limit","fetchTime","R.prop","Host","WidgetHeader","title","length","justifyContent","map","Footer","source","updateTime"],"sources":["src/components/TickerNumber/index.tsx","src/components/icon-trending-crypto-list-widget/TrendingCryptoListItem/index.tsx","src/components/icon-trending-crypto-list-widget/index.scss?tag=icon-trending-crypto-list-widget&encapsulation=shadow","src/components/icon-trending-crypto-list-widget/index.tsx"],"sourcesContent":["import { FunctionalComponent, h } from '@stencil/core';\nimport * as R from 'ramda';\n\ntype Props = {\n  val: number | string;\n  diff: number;\n  decimalPlaces?: number;\n  showArrow?: boolean;\n  isPercentage?: boolean;\n};\n\nexport const TickerNumber: FunctionalComponent<Props> = ({\n  val,\n  diff = 0,\n  showArrow = false,\n  isPercentage = false,\n}) => {\n  const [color, arrow] = R.gt(diff, 0)\n    ? ['#19AE60', '\\u25B2']\n    : R.lt(diff, 0)\n    ? ['#CE2B37', '\\u25BC']\n    : ['#98b0ba', null];\n\n  return (\n    <div style={{ color, display: 'flex', flexWrap: 'nowrap' }}>\n      {showArrow && arrow}\n      {val}\n      <div style={{ paddingRight: diff === 0 ? '8px' : '0' }}>\n        {diff === 0 ? '' : isPercentage && '%'}\n      </div>\n    </div>\n  );\n};\n","import { FunctionalComponent, h } from '@stencil/core';\nimport { TickerNumber } from 'src/components/TickerNumber';\nimport { Crypto } from 'src/types/Crypto.type';\nimport { formatCurrency } from 'src/utils/number';\n\ntype Props = {\n  item: Crypto;\n  idx: number;\n};\n\nexport const TrendingCryptoListItem: FunctionalComponent<Props> = ({\n  item,\n  idx,\n}) => {\n  return (\n    <div class=\"table-row\" style={{ padding: '10px 0' }}>\n      <div class=\"table-cell\" style={{ justifySelf: 'center' }}>\n        {idx + 1}\n      </div>\n      <div class=\"table-cell\" style={{ flexShrink: '0', fontSize: '1rem' }}>\n        <img\n          src={item.logo.thumb}\n          alt={item.name.en}\n          aria-label={item.name.en}\n          height={24}\n          width={24}\n          style={{ marginRight: '8px' }}\n        />\n        <span>\n          {item.name.en !== item.name['zh-Hant'] ? item.name['zh-Hant'] : ''}{' '}\n          {item.name.en} {item.symbol}\n        </span>\n      </div>\n      <div class=\"table-cell\" style={{ justifySelf: 'end' }}>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'end',\n          }}\n        >\n          <span>\n            {formatCurrency(item.price.usd, {\n              currencyConfig: { precision: 2 },\n              nullPlaceholder: '--',\n            })}\n          </span>\n          <span style={{ fontSize: '0.75rem', color: 'rgba(0, 0, 0, 0.60)' }}>\n            {formatCurrency(item.price.hkd, {\n              currencyConfig: { precision: 2 },\n              nullPlaceholder: '--',\n            }) + ' HKD'}\n          </span>\n        </div>\n      </div>\n      <div class=\"table-cell\" style={{ justifySelf: 'end' }}>\n        <TickerNumber\n          val={formatCurrency(Math.abs(item.pricePercentChange24h), {\n            currencyConfig: { symbol: '', precision: 3 },\n          })}\n          diff={item.pricePercentChange24h}\n          isPercentage\n          showArrow\n        />\n      </div>\n      <div class=\"table-cell\" style={{ justifySelf: 'end' }}>\n        <TickerNumber\n          val={formatCurrency(Math.abs(item.pricePercentChange7d), {\n            currencyConfig: { symbol: '', precision: 3 },\n          })}\n          diff={item.pricePercentChange7d}\n          isPercentage\n          showArrow\n        />\n      </div>\n      <div class=\"table-cell\" style={{ justifySelf: 'end' }}>\n        {item?.marketCap.usd === 0\n          ? '--'\n          : formatCurrency(item.marketCap.usd, {\n              currencyConfig: { precision: 0 },\n              nullPlaceholder: '--',\n            })}\n      </div>\n      <div class=\"table-cell\" style={{ justifySelf: 'end' }}>\n        <div\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            textAlign: 'right',\n          }}\n        >\n          <span>\n            {formatCurrency(item.volume24h.usd, {\n              currencyConfig: { precision: 0 },\n              nullPlaceholder: '--',\n            })}\n          </span>\n          <span style={{ fontSize: '0.75rem', color: 'rgba(0, 0, 0, 0.60)' }}>\n            {formatCurrency(item.volume24h.hkd, {\n              currencyConfig: { precision: 0 },\n              nullPlaceholder: '--',\n            }) + ' HKD'}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n","@import 'src/global/variables';\n@import 'src/global/mixins';\n\n/* css reset start */\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n  font-size: 16px;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n* {\n  font-family: \"PingFang HK\", PingFang-HK, PingFangHK, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Ubuntu, \"Helvetica Neue\", sans-serif !important;\n}\n/* css reset end */\n\n@mixin grid-column {\n  display: grid;\n  grid-template-columns: 42px minmax(170px, auto) minmax(110px, auto) 89px 107px 158px 143px;\n  background: #ffffff;\n  color: #000000c7;\n  font-size: 0.875rem;\n  line-height: 1.125rem;\n  border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n}\n\n:host {\n  display: block;\n  width: 100%;\n  container: container / inline-size;\n}\n\n.container {\n  min-width: 310px;\n  font-size: 16px;\n  margin-bottom: 16px;\n  background-color: white;\n  padding: 24px 0;\n  width: 100%;\n}\n\n.loading {\n  @include flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  font-size: 24px;\n}\n\n.scroll-wrapper {\n  overflow-x: scroll;\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n}\n\n.scroll-wrapper::-webkit-scrollbar {\n  display: none;\n}\n\n.table {\n  @include flex;\n  flex-direction: column;\n  margin: 0 12px 16px;\n  min-width: min-content;\n  max-width: 100%;\n  padding-right: 8px;\n}\n\n.table-header {\n  @include grid-column;\n  background: transparent;\n  margin-bottom: 8px;\n  border-bottom: none;\n  padding: 0 16px;\n}\n\n.table-head {\n  font-size: 0.75rem;\n\n  &:first-child {\n    padding-right: 0;\n    justify-self: center;\n  }\n\n  &:last-child {\n    padding-right: 0 !important;\n  }\n}\n\n.table-body {\n  border-radius: $border-radius;\n  box-shadow: 0px 0px 10px 0px rgba(0, 0, 0, 0.15);\n  display: flex;\n  flex-direction: column;\n  min-width: min-content;\n  max-width: 100%;\n  padding: 0 16px;\n}\n\n.table-row {\n  @include grid-column;\n\n  &:first-child {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n\n  &:last-child {\n    border-bottom: none;\n    border-bottom-left-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n}\n\n.table-cell {\n  font-weight: 600;\n  display: flex;\n  -webkit-box-align: center;\n  align-items: center;\n  -webkit-box-pack: start;\n  justify-content: start;\n  padding-top: 0px;\n  padding-right: 8px;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.14);\n\n  &:first-child {\n    padding-right: 0;\n    border-bottom-width: 0px;\n  }\n\n  &:last-child {\n    padding-right: 0;\n  }\n}\n\n@container container (min-width: 1024px) {\n  .table {\n    padding-right: 0;\n  }\n}\n","import { Component, Host, Prop, State, h } from '@stencil/core';\nimport { WidgetHeader } from 'src/components/WidgetHeader';\nimport services from 'src/services';\nimport { CryptoTrending } from 'src/types/Crypto.type';\nimport { Footer } from '../WidgetFooter';\nimport { TrendingCryptoListItem } from './TrendingCryptoListItem';\nimport * as R from 'ramda';\n\n@Component({\n  tag: 'icon-trending-crypto-list-widget',\n  styleUrl: 'index.scss',\n  shadow: true,\n})\nexport class IconTrendingCryptoListWidget {\n  /**\n   * Number of crypto items to show\n   */\n  @Prop() limit?: number = 5;\n\n  @State() isLoading: boolean = false;\n  @State() error: any = null;\n  @State() cryptoTrending: CryptoTrending | null = null;\n\n  connectedCallback() {\n    this.isLoading = true;\n  }\n\n  async componentWillLoad() {\n    try {\n      const cryptoTrending =\n        (await services.fetchTrendingCryptos()) as CryptoTrending;\n      this.cryptoTrending = cryptoTrending;\n    } catch (error) {\n      console.error(error);\n      this.error = error;\n    }\n    this.isLoading = false;\n  }\n\n  render() {\n    const { cryptos = [] } = this.cryptoTrending ?? {};\n    const cryptoList = cryptos.slice(0, this.limit);\n\n    const fetchTime: string = R.prop('lastFetchedTime', this.cryptoTrending);\n\n    return (\n      <Host>\n        <div class=\"container\">\n          <WidgetHeader title=\"虛擬貨幣走勢\" />\n          {this.isLoading && <div class=\"loading\">Loading...</div>}\n          {!this.isLoading && this.error && <div class=\"error\">Error</div>}\n          {!this.isLoading && cryptoList.length === 0 && (\n            <div class=\"empty\">No data</div>\n          )}\n          {!this.isLoading && cryptoList.length > 0 && (\n            <div class=\"scroll-wrapper\" style={{}}>\n              <div class=\"table\">\n                <div class=\"table-header\" color=\"rgba(255, 255, 255, 0.6)\">\n                  <div class=\"table-head\" style={{ justifyContent: 'center' }}>\n                    #\n                  </div>\n                  <div class=\"table-head\">名稱</div>\n                  <div\n                    class=\"table-head\"\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      paddingRight: '8px',\n                    }}\n                  >\n                    價格\n                  </div>\n                  <div\n                    class=\"table-head\"\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      paddingRight: '8px',\n                    }}\n                  >\n                    24h%\n                  </div>\n                  <div\n                    class=\"table-head\"\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      paddingRight: '8px',\n                    }}\n                  >\n                    7d%\n                  </div>\n                  <div\n                    class=\"table-head\"\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      paddingRight: '8px',\n                    }}\n                  >\n                    總市值\n                  </div>\n                  <div\n                    class=\"table-head\"\n                    style={{\n                      display: 'flex',\n                      justifyContent: 'flex-end',\n                      paddingRight: '8px',\n                    }}\n                  >\n                    成交額 (24h)\n                  </div>\n                </div>\n                <div class=\"table-body\">\n                  {cryptoList.map((item, idx) => (\n                    <TrendingCryptoListItem item={item} idx={idx} />\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n          <Footer source={'Coingecko'} updateTime={fetchTime} />\n        </div>\n      </Host>\n    );\n  }\n}\n"],"mappings":"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"}