{"file":"icon-featured-nft-list-widget.entry.esm.js","mappings":";;;AAQO,MAAM,eAAe,GAA+B,CAAC,EAAE,UAAU,EAAE;EACxE,QACE,WAAK,KAAK,EAAC,OAAO;IAChB,WAAK,KAAK,EAAC,WAAW;MACpB,WAAK,KAAK,EAAC,WAAW,EAAC,GAAG,EAAE,UAAU,CAAC,QAAQ,EAAE,GAAG,EAAC,UAAU,GAAG,CAC9D;IACN,WAAK,KAAK,EAAC,UAAU;MACnB,YAAM,KAAK,EAAC,UAAU,IAAE,UAAU,CAAC,IAAI,CAAQ;MAC/C,WAAK,KAAK,EAAC,WAAW;QACpB,4BAAS;QACT,WACE,GAAG,EAAE,UAAU,CAAC,YAAY,CAAC,QAAQ,EACrC,GAAG,EAAE,UAAU,CAAC,YAAY,CAAC,IAAI,gBACrB,UAAU,CAAC,YAAY,CAAC,IAAI,EACxC,KAAK,EAAE,CAAC,EACR,KAAK,EAAE;YACL,MAAM,EAAE,OAAO;YACf,QAAQ,EAAE,MAAM;YAChB,YAAY,EAAE,MAAM;WACrB,GACD;QACF,gBACG,YAAY,CAAC,UAAU,CAAC,UAAU,EAAE,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC,CAC1D,CACH,CACF,CACF,EACN;AACJ,CAAC;;ACpCD,MAAM,QAAQ,GAAG,46GAA46G;;MCah7G,qBAAqB;;;iBACP,CAAC;qBAEI,KAAK;;2BAEY,IAAI;;EAEnD,iBAAiB;IACf,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;GACvB;EAED,MAAM,iBAAiB;IACrB,IAAI;MACF,MAAM,eAAe,IAAI,MAAM,QAAQ,CAAC,iBAAiB,CAAC;QACxD,KAAK,EAAE,IAAI,CAAC,KAAK;OAClB,CAAC,CAAgB,CAAC;MACnB,IAAI,CAAC,eAAe,GAAG,eAAe,CAAC;KACxC;IAAC,OAAO,KAAK,EAAE;MACd,OAAO,CAAC,KAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;MAC/B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;KACpB;IACD,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;GACxB;EAED,MAAM;IACJ,MAAM,WAAW,GAAoBA,IAAM,CACzC,aAAa,EACb,IAAI,CAAC,eAAe,CACrB,CAAC;IAEF,MAAM,SAAS,GAAWA,IAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,eAAe,CAAC,CAAC;IAE1E,QACE,WAAK,KAAK,EAAC,WAAW,IACpB,EAAC,YAAY,IAAC,KAAK,EAAE,OAAO,GAAI,EAC/B,IAAI,CAAC,SAAS,IAAI,WAAK,KAAK,EAAC,SAAS,iBAAiB,EACvD,CAAC,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,KAAK,IAAI,WAAK,KAAK,EAAC,OAAO,YAAY,EAC/D,CAAC,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,KAAK,CAAC,KAC1C,WAAK,KAAK,EAAC,OAAO,cAAc,CACjC,EACA,CAAC,IAAI,CAAC,SAAS,IAAI,WAAW,CAAC,MAAM,GAAG,CAAC,KACxC,WAAK,KAAK,EAAC,gBAAgB,IACzB,WAAK,KAAK,EAAC,aAAa,IACrB,WAAW;MACV,WAAW,CAAC,GAAG,CAAC,UAAU,KACxB,EAAC,eAAe,IAAC,UAAU,EAAE,UAAU,GAAI,CAC5C,CAAC,CACA,CACF,CACP,EACD,EAAC,MAAM,IAAC,MAAM,EAAE,SAAS,EAAE,UAAU,EAAE,SAAS,GAAI,CAChD,EACN;GACH;;;;;;","names":["R.prop"],"sources":["src/components/icon-featured-nft-list/FeaturedNftList/index.tsx","src/components/icon-featured-nft-list/index.scss?tag=icon-featured-nft-list-widget&encapsulation=shadow","src/components/icon-featured-nft-list/index.tsx"],"sourcesContent":["import { FunctionalComponent, h } from '@stencil/core';\nimport { NFTCollection } from 'src/types/Crypto.type';\nimport { formatNumber } from 'src/utils/number';\n\ntype Props = {\n  collection: NFTCollection;\n};\n\nexport const FeaturedNftList: FunctionalComponent<Props> = ({ collection }) => {\n  return (\n    <div class=\"inner\">\n      <div class=\"nft-image\">\n        <img class=\"nft-image\" src={collection.imageUrl} alt=\"nft icon\" />\n      </div>\n      <div class=\"info-box\">\n        <span class=\"text-box\">{collection.name}</span>\n        <div class=\"price-box\">\n          <p>底價</p>\n          <img\n            src={collection.paymentToken.imageUrl}\n            alt={collection.paymentToken.name}\n            aria-label={collection.paymentToken.name}\n            width={8}\n            style={{\n              margin: '0 4px',\n              maxWidth: '56px',\n              borderRadius: '100%',\n            }}\n          />\n          <span>\n            {formatNumber(collection.floorPrice, { nullPlaceholder: '--' })}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n","@import 'src/global/variables';\n@import 'src/global/mixins';\n\n/* css reset start */\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n  font-size: 16px;\n  font-family: \"PingFang HK\", PingFang-HK, PingFangHK, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Ubuntu, \"Helvetica Neue\", sans-serif;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}\n\n* {\n  font-family: \"PingFang HK\", PingFang-HK, PingFangHK, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Ubuntu, \"Helvetica Neue\", sans-serif !important;\n}\n/* css reset end */\n\n.loading {\n  @include flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 100%;\n  width: 100%;\n  font-size: 24px;\n}\n\n:host {\n  display: block;\n  width: 100%;\n  container: container / inline-size;\n}\n\n.container {\n  min-width: 310px;\n  max-width: 1256px;\n  font-size: 16px;\n  background-color: white;\n  padding: 24px 0;\n  width: 100%;\n}\n\n.nft-wrapper {\n  display: inline-flex;\n  width: 100%;\n  justify-content: start;\n  margin-bottom: 17px;\n}\n\n.inner {\n  display: block;\n  margin: 0 8px;\n  max-width: 233.6px;\n  border-radius: 10px 10px 10px 10px;\n  box-shadow: 0 0 10px rgba(200, 200, 200);\n  border-collapse: collapse;\n  text-decoration: none;\n  font-family: 'PingFang HK';\n\n  &:first-child {\n    margin-left: 12px;\n  }\n\n  &:last-child {\n    margin-right: 12px;\n  }\n}\n\n.nft-image {\n  width: 160px;\n  height: 134px;\n  border-radius: 5% 5% 0 0;\n  margin-bottom: 0;\n}\n\n.info-box {\n  padding: 16px 0 16px 8px;\n  margin-top: 0;\n  border-radius: 0 0 10px 10px;\n  color: black;\n}\n\n.price-box {\n  display: flex;\n  font-size: 14px;\n  margin-top: 3px;\n  align-items: center;\n}\n\n.text-box {\n  @include lineClamp(1);\n}\n\n.scroll-wrapper {\n  overflow-x: scroll;\n  padding-right: 4px;\n  -ms-overflow-style: none; /* IE 11 */\n  scrollbar-width: none; /* Firefox 64 */\n}\n\n.scroll-wrapper::-webkit-scrollbar {\n  display: none;\n}\n\n@container container (min-width:768px){\n  .nft-image{\n    width: 200px;\n    height: 185px;\n  }\n}\n\n@container container (min-width:1024px){\n  .nft-image{\n    width: 230px;\n    height: 224px;\n  }\n}\n","import { Component, h, Prop, State } from '@stencil/core';\nimport { WidgetHeader } from '../WidgetHeader';\nimport services from 'src/services';\nimport * as R from 'ramda';\nimport { FeaturedNftList } from './FeaturedNftList';\nimport { NFTCollection, NftTrending } from 'src/types/Crypto.type';\nimport { Footer } from '../WidgetFooter';\n\n@Component({\n  tag: 'icon-featured-nft-list-widget',\n  styleUrl: 'index.scss',\n  shadow: true,\n})\nexport class TrendingNftListWidget {\n  @Prop() limit?: number = 5;\n\n  @State() isLoading: boolean = false;\n  @State() error: Error;\n  @State() featuredNFTList: NftTrending | null = null;\n\n  connectedCallback() {\n    this.isLoading = true;\n  }\n\n  async componentWillLoad() {\n    try {\n      const featuredNftData = (await services.fetchFeaturedNfts({\n        limit: this.limit,\n      })) as NftTrending;\n      this.featuredNFTList = featuredNftData;\n    } catch (error) {\n      console.error('error:', error);\n      this.error = error;\n    }\n    this.isLoading = false;\n  }\n\n  render() {\n    const collections: NFTCollection[] = R.prop(\n      'collections',\n      this.featuredNFTList,\n    );\n\n    const fetchTime: string = R.prop('lastFetchedTime', this.featuredNFTList);\n\n    return (\n      <div class=\"container\">\n        <WidgetHeader title={'精選NFT'} />\n        {this.isLoading && <div class=\"loading\">Loading...</div>}\n        {!this.isLoading && this.error && <div class=\"error\">Error</div>}\n        {!this.isLoading && collections.length === 0 && (\n          <div class=\"empty\">No data</div>\n        )}\n        {!this.isLoading && collections.length > 0 && (\n          <div class=\"scroll-wrapper\">\n            <div class=\"nft-wrapper\">\n              {collections &&\n                collections.map(collection => (\n                  <FeaturedNftList collection={collection} />\n                ))}\n            </div>\n          </div>\n        )}\n        <Footer source={'OpenSea'} updateTime={fetchTime} />\n      </div>\n    );\n  }\n}\n"],"version":3}